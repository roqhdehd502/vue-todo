"use strict";(self["webpackChunkvue_mini_project"]=self["webpackChunkvue_mini_project"]||[]).push([[754],{3136:function(e,s,t){t.d(s,{O:function(){return n},Sq:function(){return o},pk:function(){return a}});const o={SUCCESS_LOGOUT:{message:"로그아웃 되었습니다.",type:"success"},SUCCESS_CREATE_USER_INFO:{message:"성공적으로 등록 되었습니다.",type:"success"},SUCCESS_UPDATE_USER_INFO:{message:"성공적으로 변경 되었습니다.",type:"success"},SUCCESS_SEND_USER_EMAIL_VERIFY:{message:"인증 메시지를 전송 하였습니다.",type:"success"},INVALID_ACCESS:{message:"올바르지 않은 접근입니다!",type:"danger"},INVALID_USER_INFO:{message:"올바르지 않은 계정입니다!",type:"warning"},INVALID_CREATE_USER_INFO:{message:"등록할 계정 정보를 다시 입력해주세요!",type:"warning"},INVALID_UPLOAD_USER_IMAGE_INFO:{message:"유저 프로필 이미지를 업로드 할 수 없습니다!",type:"warning"},FAILED_LOGOUT:{message:"오류로 인해 로그아웃 할 수 없습니다!",type:"danger"},FAILED_USER_INFO:{message:"오류로 인해 회원 정보를 불러올 수 없습니다!",type:"danger"},FAILED_UPDATE_USER_INFO:{message:"오류로 인해 회원 정보를 변경 할 수 없습니다!",type:"danger"},FAILED_SEND_USER_EMAIL_VERIFY:{message:"오류로 인해 인증 메시지를 전송 할 수 없습니다!",type:"danger"},FAILED_DELETE_USER_INFO:{message:"오류로 인해 회원 정보를 삭제 할 수 없습니다!",type:"danger"}},a={FAILED_COINS_INFO:{message:"오류로 인해 코인 정보들을 불러올 수 없습니다!",type:"danger"}},n={SUCCESS_UPDATE_TODO_INFO:{message:"성공적으로 변경 되었습니다.",type:"success"},SUCCESS_DELETE_TODO_INFO:{message:"성공적으로 삭제 되었습니다.",type:"success"},INVALID_TODO_INFO:{message:"올바른 할 일의 내용을 입력해주세요!",type:"warning"},INVALID_UPDATE_TODO_INFO:{message:"올바른 할 일의 내용을 수정해주세요!",type:"warning"},FAILED_TODO_INFO:{message:"오류로 인해 작성한 할 일 정보를 불러올 수 없습니다!",type:"danger"},FAILED_TODOS_INFO:{message:"오류로 인해 작성한 할 일 정보들을 불러올 수 없습니다!",type:"danger"},FAILED_CREATE_TODO_INFO:{message:"오류로 인해 작성 할 수 없습니다!",type:"danger"},FAILED_UPDATE_TODO_INFO:{message:"오류로 인해 변경 할 수 없습니다!",type:"danger"},FAILED_DELETE_TODO_INFO:{message:"오류로 인해 삭제 할 수 없습니다!",type:"danger"}}},6595:function(e,s,t){t.d(s,{Z:function(){return m}});var o=t(3396);const a={class:"modal-wrapper"},n={class:"modal-dialog"},l={class:"modal-content"},i={class:"modal-header"},d={class:"modal-title"},r={class:"modal-body"},c={class:"modal-footer"};function u(e,s,t,u,_,g){return(0,o.wg)(),(0,o.iD)("div",a,[(0,o._)("div",n,[(0,o._)("div",l,[(0,o._)("div",i,[(0,o._)("h6",d,[(0,o.WI)(e.$slots,"modalTitle",{},void 0,!0)])]),(0,o._)("div",r,[(0,o.WI)(e.$slots,"modalBody",{},void 0,!0)]),(0,o._)("div",c,[(0,o.WI)(e.$slots,"modalFooter",{},void 0,!0)])])])])}var _={name:"ModalComponent"},g=t(89);const p=(0,g.Z)(_,[["render",u],["__scopeId","data-v-742fd37a"]]);var m=p},4754:function(e,s,t){t.r(s),t.d(s,{default:function(){return z}});var o=t(3396),a=t(2268),n=t(9242);const l=e=>((0,o.dD)("data-v-e6419c70"),e=e(),(0,o.Cn)(),e),i={key:0,class:"spinner-border text-success justify-content-center",role:"status"},d=l((()=>(0,o._)("span",{class:"visually-hidden"},"Loading...",-1))),r=[d],c={key:1,class:"container profile-container"},u={class:"row"},_={class:"col"},g={class:"display-3"},p={key:0},m=l((()=>(0,o._)("button",{type:"button",class:"btn btn-outline-info btn-sm",disabled:""}," 인증됨 ",-1))),E=[m],y={key:1},I=(0,o.Uk)("  "),b=l((()=>(0,o._)("span",{class:"badge rounded-pill bg-secondary","data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:"계정 찾기시 회원님의 이메일이 인증되어야 합니다."}," ? ",-1))),D={class:"row mt-3"},O=["src"],f={class:"row mt-3 g-3"},S={key:2,class:"modify-mode-style"},v=l((()=>(0,o._)("label",null,"닉네임",-1))),U={class:"input-group mb-3"},F=l((()=>(0,o._)("label",null,"프로필 사진",-1))),C=l((()=>(0,o._)("div",{class:"input-group mb-3"},[(0,o._)("input",{type:"file",id:"user-image",class:"form-control",accept:"image/gif, image/jpeg, image/png",required:""})],-1))),L={class:"row g-2"},T=l((()=>(0,o._)("hr",null,null,-1))),A={class:"row g-2"};function N(e,s,l,d,m,N){const w=(0,o.up)("UserDetail");return(0,o.wg)(),(0,o.iD)(o.HY,null,[d.loading&&!d.isModifyMode?((0,o.wg)(),(0,o.iD)("div",i,r)):(0,o.kq)("",!0),d.loading||d.isModifyMode?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",c,[(0,o._)("div",u,[(0,o._)("div",_,[(0,o._)("h1",g,(0,a.zw)(d.userObj.displayName?d.userObj.displayName:d.userObj.email),1),(0,o._)("h4",null,[(0,o.Uk)((0,a.zw)(d.userObj.email)+"  ",1),d.userObj.emailVerified?((0,o.wg)(),(0,o.iD)("span",p,E)):((0,o.wg)(),(0,o.iD)("span",y,[(0,o._)("button",{type:"button",class:"btn btn-info btn-sm",onClick:s[0]||(s[0]=(...e)=>d.onEmailVerify&&d.onEmailVerify(...e))}," 인증하기 "),I,b]))])])]),(0,o._)("div",D,[(0,o._)("img",{src:d.userObj.photoURL?d.userObj.photoURL:t(5622),class:"user-image"},null,8,O)]),(0,o._)("div",f,[(0,o._)("button",{onClick:s[1]||(s[1]=(...e)=>d.modifyMode&&d.modifyMode(...e)),class:"btn btn-success"},"프로필수정"),(0,o._)("button",{onClick:s[2]||(s[2]=(...e)=>d.moveToTodoListPage&&d.moveToTodoListPage(...e)),class:"btn btn-primary"},"메인페이지")])])),!d.loading&&d.isModifyMode?((0,o.wg)(),(0,o.iD)("div",S,[v,(0,o._)("div",U,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":s[3]||(s[3]=e=>d.userObj.displayName=e),type:"text",class:"form-control",required:""},null,512),[[n.nr,d.userObj.displayName]])]),F,C,(0,o._)("div",L,[(0,o._)("button",{onClick:s[4]||(s[4]=e=>d.updateUser(d.userObj)),type:"button",class:"btn btn-success"}," 저장 "),(0,o._)("button",{class:"btn btn-secondary",onClick:s[5]||(s[5]=(...e)=>d.modifyMode&&d.modifyMode(...e))}," 돌아가기 ")]),T,(0,o._)("div",A,[(0,o._)("button",{onClick:s[6]||(s[6]=(0,n.iM)((e=>d.openModal()),["stop"])),type:"button",class:"btn btn-danger"}," 회원탈퇴 ")])])):(0,o.kq)("",!0),((0,o.wg)(),(0,o.j4)(o.lR,{to:"#modal"},[d.showModal?((0,o.wg)(),(0,o.j4)(w,{key:0,onClose:d.closeModal,onDelete:d.deleteUser},null,8,["onClose","onDelete"])):(0,o.kq)("",!0)]))],64)}var w=t(4870),M=t(7139),h=t(678),k=t(3136);const R=(0,o.Uk)(" 정말 탈퇴 하시겠습니까? "),j={class:"d-flex justify-content-center"},V={class:"btn-group me-2"},q={class:"btn-group me-2"};function P(e,s,t,a,n,l){const i=(0,o.up)("Modal");return(0,o.wg)(),(0,o.j4)(i,null,{modalTitle:(0,o.w5)((()=>[R])),modalBody:(0,o.w5)((()=>[(0,o._)("div",j,[(0,o._)("div",V,[(0,o._)("button",{type:"button",class:"btn btn-secondary",onClick:s[0]||(s[0]=(...e)=>a.onClose&&a.onClose(...e))}," 취소 ")]),(0,o._)("div",q,[(0,o._)("button",{type:"button",class:"btn btn-danger",onClick:s[1]||(s[1]=(...e)=>a.onDelete&&a.onDelete(...e))}," 삭제 ")])])])),_:1})}var H=t(6595),Y={name:"UserDetail",components:{Modal:H.Z},emits:["close","delete"],setup(e,{emit:s}){const t=()=>{s("close")},o=()=>{s("delete")};return{onClose:t,onDelete:o}}},Z=t(89);const x=(0,Z.Z)(Y,[["render",P]]);var G=x,W={name:"users_id",components:{UserDetail:G},setup(){const e=(0,M.oR)(),s=(0,h.tv)(),t=(0,w.iH)(!0),a=(0,w.iH)(null),n=(0,w.iH)(!1),l=(0,w.iH)(!1),i=()=>{l.value=!0},d=()=>{l.value=!1},r=()=>{e.dispatch("usersInfo/getUserInfo");const s=(0,o.Fl)((()=>e.getters["usersInfo/getUser"]));a.value=s.value,t.value=!1,console.log(a.value.emailVerified)};r();const c=()=>{try{e.dispatch("usersInfo/sendUserEmailVerification"),e.dispatch("toast/triggerToast",k.Sq.SUCCESS_SEND_USER_EMAIL_VERIFY)}catch(s){e.dispatch("toast/triggerToast",k.Sq.SUCCESS_SEND_USER_EMAIL_VERIFY)}},u=()=>{!1===n.value?n.value=!0:n.value=!1},_=async t=>{try{const o=document.querySelector("#user-image").files[0];e.dispatch("usersInfo/updateUserInfo",{userObj:t,imageFile:o}),s.push({name:"TodosList"})}catch(o){e.dispatch("toast/triggerToast",k.Sq.FAILED_UPDATE_USER_INFO)}},g=()=>{try{e.dispatch("usersInfo/deleteUserInfo"),l.value=!1,s.push({name:"TodosList"})}catch(t){e.dispatch("toast/triggerToast",k.Sq.FAILED_DELETE_USER_INFO)}},p=()=>{s.push({name:"TodosList"})};return{loading:t,userObj:a,isModifyMode:n,showModal:l,openModal:i,closeModal:d,onEmailVerify:c,modifyMode:u,updateUser:_,deleteUser:g,moveToTodoListPage:p}}};const $=(0,Z.Z)(W,[["render",N],["__scopeId","data-v-e6419c70"]]);var z=$},5622:function(e,s,t){e.exports=t.p+"img/AnonymousUser.1b828a07.png"}}]);
//# sourceMappingURL=754.5e9db3f7.js.map