"use strict";(self["webpackChunkvue_mini_project"]=self["webpackChunkvue_mini_project"]||[]).push([[164],{3136:function(e,o,t){t.d(o,{O:function(){return a},Sq:function(){return n},pk:function(){return s}});const n={SUCCESS_LOGOUT:{message:"로그아웃 되었습니다.",type:"success"},SUCCESS_CREATE_USER_INFO:{message:"성공적으로 등록 되었습니다.",type:"success"},SUCCESS_UPDATE_USER_INFO:{message:"성공적으로 변경 되었습니다.",type:"success"},SUCCESS_SEND_USER_EMAIL_VERIFY:{message:"인증 메시지를 전송 하였습니다.",type:"success"},INVALID_ACCESS:{message:"올바르지 않은 접근입니다!",type:"danger"},INVALID_USER_INFO:{message:"올바르지 않은 계정입니다!",type:"warning"},INVALID_CREATE_USER_INFO:{message:"등록할 계정 정보를 다시 입력해주세요!",type:"warning"},INVALID_UPLOAD_USER_IMAGE_INFO:{message:"유저 프로필 이미지를 업로드 할 수 없습니다!",type:"warning"},FAILED_LOGOUT:{message:"오류로 인해 로그아웃 할 수 없습니다!",type:"danger"},FAILED_USER_INFO:{message:"오류로 인해 회원 정보를 불러올 수 없습니다!",type:"danger"},FAILED_UPDATE_USER_INFO:{message:"오류로 인해 회원 정보를 변경 할 수 없습니다!",type:"danger"},FAILED_SEND_USER_EMAIL_VERIFY:{message:"오류로 인해 인증 메시지를 전송 할 수 없습니다!",type:"danger"},FAILED_DELETE_USER_INFO:{message:"오류로 인해 회원 정보를 삭제 할 수 없습니다!",type:"danger"}},s={FAILED_COINS_INFO:{message:"오류로 인해 코인 정보들을 불러올 수 없습니다!",type:"danger"}},a={SUCCESS_UPDATE_TODO_INFO:{message:"성공적으로 변경 되었습니다.",type:"success"},SUCCESS_DELETE_TODO_INFO:{message:"성공적으로 삭제 되었습니다.",type:"success"},INVALID_TODO_INFO:{message:"올바른 할 일의 내용을 입력해주세요!",type:"warning"},INVALID_UPDATE_TODO_INFO:{message:"올바른 할 일의 내용을 수정해주세요!",type:"warning"},FAILED_TODO_INFO:{message:"오류로 인해 작성한 할 일 정보를 불러올 수 없습니다!",type:"danger"},FAILED_TODOS_INFO:{message:"오류로 인해 작성한 할 일 정보들을 불러올 수 없습니다!",type:"danger"},FAILED_CREATE_TODO_INFO:{message:"오류로 인해 작성 할 수 없습니다!",type:"danger"},FAILED_UPDATE_TODO_INFO:{message:"오류로 인해 변경 할 수 없습니다!",type:"danger"},FAILED_DELETE_TODO_INFO:{message:"오류로 인해 삭제 할 수 없습니다!",type:"danger"}}},6955:function(e,o,t){t.d(o,{C$:function(){return l},Q9:function(){return i},SR:function(){return a},bG:function(){return d},gS:function(){return r},qJ:function(){return u},v1:function(){return c}});var n=t(4028),s=t(1992);const a=(e,o)=>{(0,n.e5)((0,n.v0)(),e,o).then((()=>{console.log("LOGIN SUCCESS.")})).catch((()=>{console.log("LOGIN FAILED!")}))},d=()=>(0,n.v0)().currentUser,l=(e,o)=>{(0,n.Xb)((0,n.v0)(),e,o).then((()=>{console.log("SIGN UP SUCCESS.")})).catch((()=>{console.log("SIGN UP FAILED!")}))},c=()=>{(0,n.w7)((0,n.v0)()).then((()=>{console.log("LOGOUT SUCCESS.")})).catch((()=>{console.log("LOGOUT FAILED!")}))},r=async(e,o)=>{const t=s.cF(),a=s.iH(t,`userimages/${e.uid}`),d=o;let l=null;void 0!==d&&s.KV(a,d).then((e=>{console.log("upload image: ",e),s.Jt(a)})),(0,n.ck)((0,n.v0)().currentUser,{displayName:e.displayName,photoURL:void 0===l?e.photoURL:l})},i=()=>{(0,n.v0)().languageCode="ko",(0,n.w$)((0,n.v0)().currentUser).then((()=>{console.log("EMAIL VERIFICATION SEND SUCCESS.")})).catch((()=>{console.log("EMAIL VERIFICATION SEND FAILD.")}))},u=()=>{(0,n.h8)((0,n.v0)().currentUser).then((()=>{console.log("DELETE USER SUCCESS.")})).catch((()=>{console.log("DELETE USER FAILED!")}))}},4020:function(e,o,t){t.d(o,{CU:function(){return l},JV:function(){return d},SO:function(){return c},TC:function(){return r},qj:function(){return a}});var n=t(6035),s=t(301);const a=async e=>{const o=(0,n.JU)(s.db,"todos",e),t=await(0,n.QT)(o);if(t.exists())return t.data();console.log("NONE DATA!")},d=async e=>{await(0,n.ET)((0,n.hJ)(s.db,"todos"),e)},l=async(e,o)=>{const t=(0,n.JU)(s.db,"todos",e);await(0,n.r7)(t,o)},c=async(e,o)=>{const t=(0,n.JU)(s.db,"todos",e);await(0,n.r7)(t,{isCompleted:o})},r=async e=>{const o=(0,n.JU)(s.db,"todos",e);await(0,n.r7)(o,{enabled:!1})}},6595:function(e,o,t){t.d(o,{Z:function(){return m}});var n=t(3396);const s={class:"modal-wrapper"},a={class:"modal-dialog"},d={class:"modal-content"},l={class:"modal-header"},c={class:"modal-title"},r={class:"modal-body"},i={class:"modal-footer"};function u(e,o,t,u,g,_){return(0,n.wg)(),(0,n.iD)("div",s,[(0,n._)("div",a,[(0,n._)("div",d,[(0,n._)("div",l,[(0,n._)("h6",c,[(0,n.WI)(e.$slots,"modalTitle",{},void 0,!0)])]),(0,n._)("div",r,[(0,n.WI)(e.$slots,"modalBody",{},void 0,!0)]),(0,n._)("div",i,[(0,n.WI)(e.$slots,"modalFooter",{},void 0,!0)])])])])}var g={name:"ModalComponent"},_=t(89);const p=(0,_.Z)(g,[["render",u],["__scopeId","data-v-742fd37a"]]);var m=p},3164:function(e,o,t){t.r(o),t.d(o,{default:function(){return ae}});var n=t(3396);const s=e=>((0,n.dD)("data-v-a5c3a578"),e=e(),(0,n.Cn)(),e),a={key:0},d={class:"row todo-form-sticky"},l={key:0,class:"mb-3 bg-light text-success spinner-border",role:"status",style:{"margin-left":"45%"}},c=s((()=>(0,n._)("span",{class:"visually-hidden"},"Loading...",-1))),r=[c],i={key:1,class:"card p-3 bg-secondary text-center",style:{color:"white"}},u={class:"todo-list-overflow"},g={key:1,class:"input-group mb-3"},_=s((()=>(0,n._)("input",{class:"form-control",type:"text",value:"로그인 상태에서만 작성 가능합니다",disabled:"",readonly:""},null,-1)));function p(e,o,t,s,c,p){const m=(0,n.up)("TodoForm"),E=(0,n.up)("ToDoList");return(0,n.wg)(),(0,n.iD)("div",null,[s.isLogin?((0,n.wg)(),(0,n.iD)("div",a,[(0,n._)("div",d,[(0,n.Wm)(m,{onAddTodo:s.addTodo},null,8,["onAddTodo"])]),s.loading?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",l,r)),s.loading&&!s.todos.length?((0,n.wg)(),(0,n.iD)("div",i," 추가된 할 일이 없습니다. ")):(0,n.kq)("",!0),(0,n._)("div",u,[s.loading?((0,n.wg)(),(0,n.j4)(E,{key:0,todos:s.todos,onToggleTodo:s.toggleTodo,onDeleteTodo:s.deleteTodo},null,8,["todos","onToggleTodo","onDeleteTodo"])):(0,n.kq)("",!0)])])):((0,n.wg)(),(0,n.iD)("div",g,[_,(0,n._)("button",{class:"btn btn-outline-secondary",type:"button",onClick:o[0]||(o[0]=(...e)=>s.moveToLogin&&s.moveToLogin(...e))}," 로그인 ")]))])}var m=t(4870),E=t(7139),I=t(1120),T=t(4028),D=t(6035),v=t(301),O=t(3136),y=t(4020),C=t(9242),S=t(2268);const b=e=>((0,n.dD)("data-v-5b2deda3"),e=e(),(0,n.Cn)(),e),L=["onClick"],F={class:"flex-glow-1"},U=["onUpdate:modelValue","onChange"],A={class:"container"},h={class:"row align-items-center"},N={class:"col-9"},f={class:"col",style:{"text-align":"right"}},w=["onClick"],k=b((()=>(0,n._)("span",{class:"material-icons"}," delete_outline ",-1))),R=[k];function V(e,o,t,s,a,d){const l=(0,n.up)("TodoDetail");return(0,n.wg)(),(0,n.iD)(n.HY,null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.todos,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{key:e.docId?e.docId:t,class:"card mt-1 mb-1"},[(0,n._)("div",{class:"card-body p-2 d-flex align-items-center todo-cursor",onClick:o=>s.moveToPage(e.docId)},[(0,n._)("div",F,[(0,n.wy)((0,n._)("input",{class:"ml-2 mr-2",type:"checkbox","onUpdate:modelValue":o=>e.isCompleted=o,onChange:e=>s.toggleTodo(t,e),onClick:o[0]||(o[0]=(0,C.iM)((()=>{}),["stop"]))},null,40,U),[[C.e8,e.isCompleted]])]),(0,n._)("div",A,[(0,n._)("div",h,[(0,n._)("div",N,[(0,n._)("label",{class:(0,S.C_)(["form-check-label",{check:e.isCompleted}])},(0,S.zw)(e.subject),3)]),(0,n._)("div",f,[(0,n._)("button",{class:"btn btn-danger btm-sm",type:"button",onClick:(0,C.iM)((o=>s.openModal(e.docId)),["stop"])},R,8,w)])])])],8,L)])))),128)),((0,n.wg)(),(0,n.j4)(n.lR,{to:"#modal"},[s.showModal?((0,n.wg)(),(0,n.j4)(l,{key:0,onClose:s.closeModal,onDelete:s.deleteTodo},null,8,["onClose","onDelete"])):(0,n.kq)("",!0)]))],64)}const M=(0,n.Uk)(" 정말 삭제 하시겠습니까? "),j={class:"d-flex justify-content-center"},x={class:"btn-group me-2"},P={class:"btn-group me-2"};function G(e,o,t,s,a,d){const l=(0,n.up)("Modal");return(0,n.wg)(),(0,n.j4)(l,null,{modalTitle:(0,n.w5)((()=>[M])),modalBody:(0,n.w5)((()=>[(0,n._)("div",j,[(0,n._)("div",x,[(0,n._)("button",{type:"button",class:"btn btn-secondary",onClick:o[0]||(o[0]=(...e)=>s.onClose&&s.onClose(...e))}," 취소 ")]),(0,n._)("div",P,[(0,n._)("button",{type:"button",class:"btn btn-danger",onClick:o[1]||(o[1]=(...e)=>s.onDelete&&s.onDelete(...e))}," 삭제 ")])])])),_:1})}var H=t(6595),J={name:"TodoDetail",components:{Modal:H.Z},emits:["close","delete"],setup(e,{emit:o}){const t=()=>{o("close")},n=()=>{o("delete")};return{onClose:t,onDelete:n}}},Z=t(89);const q=(0,Z.Z)(J,[["render",G]]);var $=q,W={name:"TodoList",components:{TodoDetail:$},props:{todos:{type:Array,required:!0}},emits:["toggle-todo","delete-todo"],setup(e,{emit:o}){const t=(0,m.iH)(null),n=(0,m.iH)(!1),s=e=>{t.value=e,n.value=!0},a=()=>{t.value=null,n.value=!1},d=()=>{o("delete-todo",t.value),t.value=null,n.value=!1},l=(e,t)=>{o("toggle-todo",e,t.target.checked)},c=e=>{I.Z.push({name:"Todo",params:{id:e}})};return{showModal:n,openModal:s,closeModal:a,deleteTodo:d,toggleTodo:l,moveToPage:c}}};const Y=(0,Z.Z)(W,[["render",V],["__scopeId","data-v-5b2deda3"]]);var K=Y;const B={class:"d-flex"},Q={class:"input-group mb-3"};function X(e,o,t,s,a,d){return(0,n.wg)(),(0,n.iD)("div",B,[(0,n._)("div",Q,[(0,n.wy)((0,n._)("input",{onKeyup:o[0]||(o[0]=(0,C.D2)(((...e)=>s.addTodo&&s.addTodo(...e)),["enter"])),class:"form-control",type:"text","onUpdate:modelValue":o[1]||(o[1]=e=>s.todo=e),placeholder:"추가할 할 일 입력",maxlength:"30"},null,544),[[C.nr,s.todo]]),(0,n._)("button",{onClick:o[2]||(o[2]=(...e)=>s.addTodo&&s.addTodo(...e)),class:"btn btn-success",type:"button"}," 추가 ")])])}var z=t(6955),ee={name:"TodoForm",emits:["add-todo"],setup(e,{emit:o}){const t=(0,E.oR)(),n=(0,m.iH)(null),s=()=>{n.value=(0,z.bG)().uid};s();const a=(0,m.iH)(""),d=()=>{""===a.value||null===a.value?t.dispatch("toast/triggerToast",O.O.INVALID_TODO_INFO):(o("add-todo",{userId:n.value,subject:a.value,uploadDate:Date.now(),isCompleted:!1,enabled:!0}),a.value="")};return{todo:a,addTodo:d}}};const oe=(0,Z.Z)(ee,[["render",X]]);var te=oe,ne={name:"TodoIndex",components:{ToDoList:K,TodoForm:te},setup(){const e=(0,E.oR)(),o=(0,m.iH)(!1),t=(0,m.iH)(!1),n=(0,m.iH)(null),s=(0,m.iH)([]),a=()=>{(0,T.Aj)((0,T.v0)(),(e=>e?(t.value=!0,n.value=e.uid,void d(n.value)):void(t.value=!1)))};a();const d=async t=>{try{let e=(0,D.IO)((0,D.hJ)(v.db,"todos"),(0,D.ar)("userId","==",t),(0,D.ar)("enabled","==",!0),(0,D.Xo)("uploadDate","desc"));(0,D.cf)(e,(e=>{s.value=[],e.forEach((e=>{let o=e.data();o.docId=e.id,s.value.push(o)}))})),o.value=!0}catch(n){e.dispatch("toast/triggerToast",O.O.FAILED_TODOS_INFO)}},l=async o=>{try{const e={userId:o.userId,subject:o.subject,uploadDate:o.uploadDate,isCompleted:o.isCompleted,enabled:o.enabled};await(0,y.JV)(e)}catch(t){e.dispatch("toast/triggerToast",O.O.FAILED_CREATE_TODO_INFO)}},c=async(o,t)=>{const n=s.value[o].docId;try{await(0,y.SO)(n,t),e.dispatch("toast/triggerToast",O.O.SUCCESS_UPDATE_TODO_INFO)}catch(a){e.dispatch("toast/triggerToast",O.O.FAILED_UPDATE_TODO_INFO)}},r=async o=>{try{await(0,y.TC)(o),e.dispatch("toast/triggerToast",O.O.SUCCESS_DELETE_TODO_INFO)}catch(t){e.dispatch("toast/triggerToast",O.O.FAILED_DELETE_TODO_INFO)}},i=()=>{I.Z.push({name:"Login"})};return{loading:o,isLogin:t,userObj:n,todos:s,getTodos:d,addTodo:l,toggleTodo:c,deleteTodo:r,moveToLogin:i}}};const se=(0,Z.Z)(ne,[["render",p],["__scopeId","data-v-a5c3a578"]]);var ae=se}}]);
//# sourceMappingURL=164.d77d65d0.js.map