{"version":3,"file":"js/700.bd266ce3.js","mappings":"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","sources":["webpack://vue-mini-project/./src/common/messages.js","webpack://vue-mini-project/./src/remote/auth.js","webpack://vue-mini-project/./src/views/users/_id.vue","webpack://vue-mini-project/./src/views/users/_id.vue?73eb"],"sourcesContent":["export const authMessages =\r\n{\r\n  SUCCESS_LOGOUT :\r\n  { \r\n    message: '로그아웃 되었습니다.', \r\n    type: 'success' \r\n  },\r\n\r\n  SUCCESS_CREATE_USER_INFO :\r\n  { \r\n    message: '성공적으로 등록 되었습니다.', \r\n    type: 'success' \r\n  },\r\n\r\n  SUCCESS_UPDATE_USER_INFO :\r\n  { \r\n    message: '성공적으로 변경 되었습니다.', \r\n    type: 'success' \r\n  },\r\n\r\n  INVALID_ACCESS :\r\n  { \r\n    message: '올바르지 않은 접근입니다!', \r\n    type: 'danger' \r\n  },\r\n\r\n  INVALID_USER_INFO :\r\n  { \r\n    message: '올바르지 않은 계정입니다!', \r\n    type: 'warning' \r\n  },\r\n\r\n  INVALID_CREATE_USER_INFO :\r\n  { \r\n    message: '등록할 계정 정보를 다시 입력해주세요!', \r\n    type: 'warning' \r\n  },\r\n\r\n  INVALID_UPLOAD_USER_IMAGE_INFO :\r\n  { \r\n    message: '유저 프로필 이미지를 업로드 할 수 없습니다!', \r\n    type: 'warning' \r\n  },\r\n\r\n  FAILED_LOGOUT :\r\n  { \r\n    message: '오류로 인해 로그아웃 할 수 없습니다!', \r\n    type: 'danger' \r\n  },\r\n\r\n  FAILED_USER_INFO :\r\n  { \r\n    message: '오류로 인해 회원 정보를 불러올 수 없습니다!', \r\n    type: 'danger' \r\n  },\r\n\r\n  FAILED_UPDATE_USER_INFO :\r\n  { \r\n    message: '오류로 인해 회원 정보를 변경 할 수 없습니다!', \r\n    type: 'danger' \r\n  },\r\n};\r\n\r\n\r\n\r\nexport const coinMessages =\r\n{\r\n  FAILED_COINS_INFO :\r\n  { \r\n    message: '오류로 인해 코인 정보들을 불러올 수 없습니다!', \r\n    type: 'danger' \r\n  },\r\n};\r\n\r\n\r\n\r\nexport const todoMessages =\r\n{\r\n  SUCCESS_UPDATE_TODO_INFO :\r\n  { \r\n    message: '성공적으로 변경 되었습니다.', \r\n    type: 'success' \r\n  },\r\n\r\n  SUCCESS_DELETE_TODO_INFO :\r\n  { \r\n    message: '성공적으로 삭제 되었습니다.', \r\n    type: 'success' \r\n  },\r\n\r\n  INVALID_TODO_INFO :\r\n  { \r\n    message: '올바른 할 일의 내용을 입력해주세요!', \r\n    type: 'warning' \r\n  },\r\n\r\n  INVALID_UPDATE_TODO_INFO :\r\n  { \r\n    message: '올바른 할 일의 내용을 수정해주세요!', \r\n    type: 'warning' \r\n  },\r\n\r\n  FAILED_TODO_INFO :\r\n  { \r\n    message: '오류로 인해 작성한 할 일 정보를 불러올 수 없습니다!', \r\n    type: 'danger' \r\n  },\r\n\r\n  FAILED_TODOS_INFO :\r\n  { \r\n    message: '오류로 인해 작성한 할 일 정보들을 불러올 수 없습니다!', \r\n    type: 'danger' \r\n  },\r\n\r\n  FAILED_CREATE_TODO_INFO :\r\n  { \r\n    message: '오류로 인해 작성 할 수 없습니다!', \r\n    type: 'danger' \r\n  },\r\n\r\n  FAILED_UPDATE_TODO_INFO :\r\n  { \r\n    message: '오류로 인해 변경 할 수 없습니다!', \r\n    type: 'danger' \r\n  },\r\n\r\n  FAILED_DELETE_TODO_INFO :\r\n  { \r\n    message: '오류로 인해 삭제 할 수 없습니다!', \r\n    type: 'danger' \r\n  },\r\n};","import { \r\n  getAuth,\r\n  signInWithEmailAndPassword,\r\n  createUserWithEmailAndPassword,\r\n  signOut,\r\n  updateProfile\r\n} from \"firebase/auth\";\r\n\r\nimport * as firebaseStorage from \"firebase/storage\";\r\n\r\n\r\n\r\nexport const triggerLogin = (userEmail, userPassword) => {\r\n  signInWithEmailAndPassword(getAuth(), userEmail, userPassword)\r\n    .then(() => {\r\n      console.log(\"LOGIN SUCCESS.\");\r\n    })\r\n    .catch(() => {\r\n      console.log(\"LOGIN FAILED!\");\r\n    });\r\n}\r\n\r\n\r\nexport const getUserInfo = () => {\r\n  return getAuth().currentUser;\r\n}\r\n\r\n\r\nexport const createUserInfo = (userEmail, userPassword) => {\r\n  createUserWithEmailAndPassword(getAuth(), userEmail, userPassword)\r\n    .then(() => {\r\n      console.log(\"SIGN UP SUCCESS.\");\r\n    })\r\n    .catch(() => {\r\n      console.log(\"SIGN UP FAILED!\");\r\n    }); \r\n}\r\n\r\n\r\nexport const signOutUserInfo = () => {\r\n  signOut(getAuth())\r\n    .then(() => {\r\n      console.log(\"LOGOUT SUCCESS.\");\r\n    }).catch(() => {\r\n      console.log(\"LOGOUT FAILED!\");\r\n    });\r\n}\r\n\r\n\r\nexport const UpdateUserInfo = async (userObj, userImageInfo) => {\r\n  const storage = firebaseStorage.getStorage();\r\n  const storageRef = firebaseStorage.ref(storage, `userimages/${userObj.uid}`);\r\n  const imageFile = userImageInfo;\r\n  let imageURL = null;\r\n\r\n  if (imageFile !== undefined) {\r\n    firebaseStorage.uploadBytes(storageRef, imageFile)\r\n    .then((snapshot) => {\r\n      console.log(\"upload image: \", snapshot);\r\n      firebaseStorage.getDownloadURL(storageRef);\r\n    });\r\n  }\r\n  \r\n  updateProfile(getAuth().currentUser, {\r\n    displayName: userObj.displayName,\r\n    photoURL: imageURL === undefined ? userObj.photoURL : imageURL,\r\n  });\r\n}","<template>\r\n    <div \r\n        v-if=\"loading && !isModifyMode\"\r\n        class=\"spinner-border text-success justify-content-center\" \r\n        role=\"status\"\r\n    >\r\n        <span class=\"visually-hidden\">Loading...</span>\r\n    </div>\r\n\r\n    <div \r\n        v-if=\"!loading && !isModifyMode\" \r\n        class=\"container profile-container\"\r\n    >\r\n        <div class=\"row\">\r\n            <div class=\"col\">\r\n                <h1 class=\"display-3\">{{ userObj.displayName ? userObj.displayName : userObj.email }}</h1>\r\n                <h4>{{ userObj.email }}</h4>\r\n            </div>\r\n        </div>\r\n        <div class=\"row mt-3\">\r\n            <img :src=\"userObj.photoURL ? userObj.photoURL : require(`@/assets/images/AnonymousUser.png`)\" class=\"user-image\" />\r\n        </div>\r\n        <div class=\"row mt-3 g-3\">\r\n            <button @click=\"modifyMode\" class=\"btn btn-success\">프로필수정</button>\r\n            <button @click=\"moveToTodoListPage\" class=\"btn btn-primary\">메인페이지</button>\r\n        </div>\r\n    </div>\r\n\r\n    <div \r\n        v-if=\"!loading && isModifyMode\" \r\n        class=\"modify-mode-style\"\r\n    >\r\n        <label>닉네임</label>\r\n        <div class=\"input-group mb-3\">\r\n            <input \r\n                v-model=\"userObj.displayName\"\r\n                type=\"text\" \r\n                class=\"form-control\" \r\n                required\r\n            />\r\n        </div>\r\n        <label>프로필 사진</label>\r\n        <div class=\"input-group mb-3\">\r\n            <input \r\n              type=\"file\" \r\n              id=\"user-image\"\r\n              class=\"form-control\" \r\n              accept=\"image/gif, image/jpeg, image/png\"\r\n              required\r\n            >\r\n        </div>\r\n        <div class=\"row g-2\">\r\n            <button \r\n                @click=\"onUpdate(userObj)\"\r\n                type=\"button\" \r\n                class=\"btn btn-success\"\r\n            >\r\n                저장\r\n            </button>\r\n            <button class=\"btn btn-secondary\" @click=\"modifyMode\">\r\n                취소\r\n            </button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n\r\n\r\n<script>\r\nimport { ref } from 'vue';\r\nimport { useStore } from 'vuex';\r\nimport { useRouter } from 'vue-router';\r\n\r\nimport { authMessages } from '@/common/messages';\r\n\r\nimport { getUserInfo, UpdateUserInfo } from '@/remote/auth';\r\n\r\n\r\nexport default {\r\n    name: 'users_id',\r\n    \r\n    setup() {\r\n        const store = useStore();\r\n        const router = useRouter();\r\n\r\n        const loading = ref(true);\r\n        const userObj = ref(null);\r\n        const isModifyMode = ref(false);\r\n\r\n        const getUserObj = () => {\r\n          userObj.value = getUserInfo();\r\n          loading.value = false;\r\n        }\r\n        getUserObj();\r\n        \r\n        const modifyMode = () => {\r\n          if (isModifyMode.value === false) {\r\n            isModifyMode.value = true;\r\n          } else {\r\n            isModifyMode.value = false;\r\n          }\r\n        }\r\n\r\n        const onUpdate = async (userObj) => {\r\n          try {\r\n            const imageFile = document.querySelector('#user-image').files[0];\r\n            UpdateUserInfo(userObj, imageFile);\r\n            router.push({\r\n                name: 'TodosList'\r\n            });\r\n          } catch(err) {\r\n            store.dispatch('toast/triggerToast', authMessages.FAILED_UPDATE_USER_INFO);\r\n          }\r\n        }\r\n\r\n        const moveToTodoListPage = () => { \r\n          router.push({\r\n            name: 'TodosList'\r\n          });\r\n        }\r\n\r\n        return {\r\n          loading,\r\n          userObj,\r\n          isModifyMode,\r\n          \r\n          modifyMode,\r\n          onUpdate,\r\n          moveToTodoListPage,\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n\r\n\r\n<style scoped>\r\n.profile-container {\r\n    margin-top: 20%;\r\n    text-align: center !important;\r\n    align-items: center !important;\r\n}\r\n\r\n.user-image {\r\n    display: block;\r\n    margin: 0px auto;\r\n    width: 200px; height: 200px;\r\n    border-radius: 100px;\r\n}\r\n\r\n.profile-aboutme {\r\n    margin-top: 30px;\r\n    margin-bottom: 30px;\r\n    padding: 30px;\r\n    background-color: whitesmoke;\r\n    border-radius: 10px;\r\n}\r\n\r\n.profile-aboutme-title {\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.modify-mode-style {\r\n    justify-content: center;\r\n    align-items: center;\r\n    padding-top: 15vh;\r\n}\r\n</style>","import { render } from \"./_id.vue?vue&type=template&id=53ec0ea9&scoped=true\"\nimport script from \"./_id.vue?vue&type=script&lang=js\"\nexport * from \"./_id.vue?vue&type=script&lang=js\"\n\nimport \"./_id.vue?vue&type=style&index=0&id=53ec0ea9&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\Others\\\\Programming\\\\Project Space\\\\vue-todo\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-53ec0ea9\"]])\n\nexport default __exports__"],"names":["authMessages","SUCCESS_LOGOUT","message","type","SUCCESS_CREATE_USER_INFO","SUCCESS_UPDATE_USER_INFO","INVALID_ACCESS","INVALID_USER_INFO","INVALID_CREATE_USER_INFO","INVALID_UPLOAD_USER_IMAGE_INFO","FAILED_LOGOUT","FAILED_USER_INFO","FAILED_UPDATE_USER_INFO","coinMessages","FAILED_COINS_INFO","todoMessages","SUCCESS_UPDATE_TODO_INFO","SUCCESS_DELETE_TODO_INFO","INVALID_TODO_INFO","INVALID_UPDATE_TODO_INFO","FAILED_TODO_INFO","FAILED_TODOS_INFO","FAILED_CREATE_TODO_INFO","FAILED_UPDATE_TODO_INFO","FAILED_DELETE_TODO_INFO","triggerLogin","userEmail","userPassword","signInWithEmailAndPassword","getAuth","then","console","log","catch","getUserInfo","currentUser","createUserInfo","createUserWithEmailAndPassword","signOutUserInfo","signOut","UpdateUserInfo","async","userObj","userImageInfo","storage","firebaseStorage","storageRef","uid","imageFile","imageURL","undefined","snapshot","updateProfile","displayName","photoURL","class","role","_createElementVNode","_hoisted_2","id","accept","required","$setup","_createElementBlock","_hoisted_3","_toDisplayString","email","src","require","onClick","_hoisted_12","$event","_hoisted_14","_hoisted_15","name","setup","store","useStore","router","useRouter","loading","ref","isModifyMode","getUserObj","value","modifyMode","onUpdate","document","querySelector","files","push","err","dispatch","moveToTodoListPage","__exports__","render"],"sourceRoot":""}