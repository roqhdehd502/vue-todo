"use strict";(self["webpackChunkvue_mini_project"]=self["webpackChunkvue_mini_project"]||[]).push([[672],{3136:function(e,o,t){t.d(o,{O:function(){return d},Sq:function(){return s},pk:function(){return a}});const s={SUCCESS_LOGOUT:{message:"로그아웃 되었습니다.",type:"success"},SUCCESS_CREATE_USER_INFO:{message:"성공적으로 등록 되었습니다.",type:"success"},SUCCESS_UPDATE_USER_INFO:{message:"성공적으로 변경 되었습니다.",type:"success"},SUCCESS_SEND_USER_EMAIL_VERIFY:{message:"인증 메시지를 전송 하였습니다.",type:"success"},INVALID_ACCESS:{message:"올바르지 않은 접근입니다!",type:"danger"},INVALID_USER_INFO:{message:"올바르지 않은 계정입니다!",type:"warning"},INVALID_CREATE_USER_INFO:{message:"등록할 계정 정보를 다시 입력해주세요!",type:"warning"},INVALID_UPLOAD_USER_IMAGE_INFO:{message:"유저 프로필 이미지를 업로드 할 수 없습니다!",type:"warning"},FAILED_LOGOUT:{message:"오류로 인해 로그아웃 할 수 없습니다!",type:"danger"},FAILED_USER_INFO:{message:"오류로 인해 회원 정보를 불러올 수 없습니다!",type:"danger"},FAILED_UPDATE_USER_INFO:{message:"오류로 인해 회원 정보를 변경 할 수 없습니다!",type:"danger"},FAILED_SEND_USER_EMAIL_VERIFY:{message:"오류로 인해 인증 메시지를 전송 할 수 없습니다!",type:"danger"},FAILED_DELETE_USER_INFO:{message:"오류로 인해 회원 정보를 삭제 할 수 없습니다!",type:"danger"}},a={FAILED_COINS_INFO:{message:"오류로 인해 코인 정보들을 불러올 수 없습니다!",type:"danger"}},d={SUCCESS_UPDATE_TODO_INFO:{message:"성공적으로 변경 되었습니다.",type:"success"},SUCCESS_DELETE_TODO_INFO:{message:"성공적으로 삭제 되었습니다.",type:"success"},INVALID_TODO_INFO:{message:"올바른 할 일의 내용을 입력해주세요!",type:"warning"},INVALID_UPDATE_TODO_INFO:{message:"올바른 할 일의 내용을 수정해주세요!",type:"warning"},FAILED_TODO_INFO:{message:"오류로 인해 작성한 할 일 정보를 불러올 수 없습니다!",type:"danger"},FAILED_TODOS_INFO:{message:"오류로 인해 작성한 할 일 정보들을 불러올 수 없습니다!",type:"danger"},FAILED_CREATE_TODO_INFO:{message:"오류로 인해 작성 할 수 없습니다!",type:"danger"},FAILED_UPDATE_TODO_INFO:{message:"오류로 인해 변경 할 수 없습니다!",type:"danger"},FAILED_DELETE_TODO_INFO:{message:"오류로 인해 삭제 할 수 없습니다!",type:"danger"}}},6595:function(e,o,t){t.d(o,{Z:function(){return m}});var s=t(3396);const a={class:"modal-wrapper"},d={class:"modal-dialog"},n={class:"modal-content"},l={class:"modal-header"},c={class:"modal-title"},i={class:"modal-body"},r={class:"modal-footer"};function u(e,o,t,u,g,_){return(0,s.wg)(),(0,s.iD)("div",a,[(0,s._)("div",d,[(0,s._)("div",n,[(0,s._)("div",l,[(0,s._)("h6",c,[(0,s.WI)(e.$slots,"modalTitle",{},void 0,!0)])]),(0,s._)("div",i,[(0,s.WI)(e.$slots,"modalBody",{},void 0,!0)]),(0,s._)("div",r,[(0,s.WI)(e.$slots,"modalFooter",{},void 0,!0)])])])])}var g={name:"ModalComponent"},_=t(89);const p=(0,_.Z)(g,[["render",u],["__scopeId","data-v-742fd37a"]]);var m=p},2672:function(e,o,t){t.r(o),t.d(o,{default:function(){return te}});var s=t(3396);const a=e=>((0,s.dD)("data-v-4970b46c"),e=e(),(0,s.Cn)(),e),d={key:0},n={class:"row todo-form-sticky"},l={key:0,class:"mb-3 bg-light text-success spinner-border",role:"status",style:{"margin-left":"45%"}},c=a((()=>(0,s._)("span",{class:"visually-hidden"},"Loading...",-1))),i=[c],r={key:1,class:"card p-3 bg-secondary text-center",style:{color:"white"}},u={class:"todo-list-overflow"},g={key:1,class:"input-group mb-3"},_=a((()=>(0,s._)("input",{class:"form-control",type:"text",value:"로그인 상태에서만 작성 가능합니다",disabled:"",readonly:""},null,-1)));function p(e,o,t,a,c,p){const m=(0,s.up)("TodoForm"),T=(0,s.up)("ToDoList");return(0,s.wg)(),(0,s.iD)("div",null,[a.isLogin?((0,s.wg)(),(0,s.iD)("div",d,[(0,s._)("div",n,[(0,s.Wm)(m,{onAddTodo:a.addTodo},null,8,["onAddTodo"])]),a.loading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",l,i)),a.loading&&!a.todos.length?((0,s.wg)(),(0,s.iD)("div",r," 추가된 할 일이 없습니다. ")):(0,s.kq)("",!0),(0,s._)("div",u,[a.loading?((0,s.wg)(),(0,s.j4)(T,{key:0,todos:a.todos,onToggleTodo:a.toggleTodo,onDeleteTodo:a.deleteTodo},null,8,["todos","onToggleTodo","onDeleteTodo"])):(0,s.kq)("",!0)])])):((0,s.wg)(),(0,s.iD)("div",g,[_,(0,s._)("button",{class:"btn btn-outline-secondary",type:"button",onClick:o[0]||(o[0]=(...e)=>a.moveToLogin&&a.moveToLogin(...e))}," 로그인 ")]))])}var m=t(4870),T=t(7139),I=t(1120),D=t(4028),v=t(3136),O=t(9242),E=t(2268);const y=e=>((0,s.dD)("data-v-5b2deda3"),e=e(),(0,s.Cn)(),e),C=["onClick"],b={class:"flex-glow-1"},F=["onUpdate:modelValue","onChange"],S={class:"container"},A={class:"row align-items-center"},L={class:"col-9"},w={class:"col",style:{"text-align":"right"}},f=["onClick"],h=y((()=>(0,s._)("span",{class:"material-icons"}," delete_outline ",-1))),N=[h];function k(e,o,t,a,d,n){const l=(0,s.up)("TodoDetail");return(0,s.wg)(),(0,s.iD)(s.HY,null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.todos,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:e.docId?e.docId:t,class:"card mt-1 mb-1"},[(0,s._)("div",{class:"card-body p-2 d-flex align-items-center todo-cursor",onClick:o=>a.moveToPage(e.docId)},[(0,s._)("div",b,[(0,s.wy)((0,s._)("input",{class:"ml-2 mr-2",type:"checkbox","onUpdate:modelValue":o=>e.isCompleted=o,onChange:e=>a.toggleTodo(t,e),onClick:o[0]||(o[0]=(0,O.iM)((()=>{}),["stop"]))},null,40,F),[[O.e8,e.isCompleted]])]),(0,s._)("div",S,[(0,s._)("div",A,[(0,s._)("div",L,[(0,s._)("label",{class:(0,E.C_)(["form-check-label",{check:e.isCompleted}])},(0,E.zw)(e.subject),3)]),(0,s._)("div",w,[(0,s._)("button",{class:"btn btn-danger btm-sm",type:"button",onClick:(0,O.iM)((o=>a.openModal(e.docId)),["stop"])},N,8,f)])])])],8,C)])))),128)),((0,s.wg)(),(0,s.j4)(s.lR,{to:"#modal"},[a.showModal?((0,s.wg)(),(0,s.j4)(l,{key:0,onClose:a.closeModal,onDelete:a.deleteTodo},null,8,["onClose","onDelete"])):(0,s.kq)("",!0)]))],64)}const U=(0,s.Uk)(" 정말 삭제 하시겠습니까? "),R={class:"d-flex justify-content-center"},M={class:"btn-group me-2"},j={class:"btn-group me-2"};function x(e,o,t,a,d,n){const l=(0,s.up)("Modal");return(0,s.wg)(),(0,s.j4)(l,null,{modalTitle:(0,s.w5)((()=>[U])),modalBody:(0,s.w5)((()=>[(0,s._)("div",R,[(0,s._)("div",M,[(0,s._)("button",{type:"button",class:"btn btn-secondary",onClick:o[0]||(o[0]=(...e)=>a.onClose&&a.onClose(...e))}," 취소 ")]),(0,s._)("div",j,[(0,s._)("button",{type:"button",class:"btn btn-danger",onClick:o[1]||(o[1]=(...e)=>a.onDelete&&a.onDelete(...e))}," 삭제 ")])])])),_:1})}var V=t(6595),H={name:"TodoDetail",components:{Modal:V.Z},emits:["close","delete"],setup(e,{emit:o}){const t=()=>{o("close")},s=()=>{o("delete")};return{onClose:t,onDelete:s}}},P=t(89);const Z=(0,P.Z)(H,[["render",x]]);var q=Z,G={name:"TodoList",components:{TodoDetail:q},props:{todos:{type:Array,required:!0}},emits:["toggle-todo","delete-todo"],setup(e,{emit:o}){const t=(0,m.iH)(null),s=(0,m.iH)(!1),a=e=>{t.value=e,s.value=!0},d=()=>{t.value=null,s.value=!1},n=()=>{o("delete-todo",t.value),t.value=null,s.value=!1},l=(e,t)=>{o("toggle-todo",e,t.target.checked)},c=e=>{I.Z.push({name:"Todo",params:{id:e}})};return{showModal:s,openModal:a,closeModal:d,deleteTodo:n,toggleTodo:l,moveToPage:c}}};const W=(0,P.Z)(G,[["render",k],["__scopeId","data-v-5b2deda3"]]);var Y=W;const $={class:"d-flex"},B={class:"input-group mb-3"};function K(e,o,t,a,d,n){return(0,s.wg)(),(0,s.iD)("div",$,[(0,s._)("div",B,[(0,s.wy)((0,s._)("input",{onKeyup:o[0]||(o[0]=(0,O.D2)(((...e)=>a.addTodo&&a.addTodo(...e)),["enter"])),class:"form-control",type:"text","onUpdate:modelValue":o[1]||(o[1]=e=>a.todo=e),placeholder:"추가할 할 일 입력",maxlength:"30"},null,544),[[O.nr,a.todo]]),(0,s._)("button",{onClick:o[2]||(o[2]=(...e)=>a.addTodo&&a.addTodo(...e)),class:"btn btn-success",type:"button"}," 추가 ")])])}var z=t(6955),J={name:"TodoForm",emits:["add-todo"],setup(e,{emit:o}){const t=(0,T.oR)(),s=(0,m.iH)(null),a=()=>{s.value=(0,z.bG)().uid};a();const d=(0,m.iH)(""),n=()=>{""===d.value||null===d.value?t.dispatch("toast/triggerToast",v.O.INVALID_TODO_INFO):(o("add-todo",{userId:s.value,subject:d.value,uploadDate:Date.now(),isCompleted:!1,enabled:!0}),d.value="")};return{todo:d,addTodo:n}}};const Q=(0,P.Z)(J,[["render",K]]);var X=Q,ee={name:"TodoIndex",components:{ToDoList:Y,TodoForm:X},setup(){const e=(0,T.oR)(),o=(0,m.iH)(!1),t=(0,m.iH)(!1),a=(0,m.iH)(null),d=(0,m.iH)([]),n=()=>{(0,D.Aj)((0,D.v0)(),(e=>{e?(t.value=!0,a.value=e.uid,l(a.value)):t.value=!1}))};n();const l=async t=>{try{await e.dispatch("todosInfo/getTodosInfo",t);const a=(0,s.Fl)((()=>e.getters["todosInfo/getTodos"]));d.value=a.value,o.value=!0}catch(a){e.dispatch("toast/triggerToast",v.O.FAILED_TODOS_INFO)}},c=async o=>{try{const t={userId:o.userId,subject:o.subject,uploadDate:o.uploadDate,isCompleted:o.isCompleted,enabled:o.enabled};await e.dispatch("todosInfo/addTodoInfo",t),n()}catch(t){e.dispatch("toast/triggerToast",v.O.FAILED_CREATE_TODO_INFO)}},i=async(o,t)=>{const s=d.value[o].docId;try{await e.dispatch("todosInfo/toggleTodoInfo",{docId:s,isChecked:t}),e.dispatch("toast/triggerToast",v.O.SUCCESS_UPDATE_TODO_INFO)}catch(a){e.dispatch("toast/triggerToast",v.O.FAILED_UPDATE_TODO_INFO)}},r=async o=>{try{await e.dispatch("todosInfo/deleteTodoInfo",o),n(),e.dispatch("toast/triggerToast",v.O.SUCCESS_DELETE_TODO_INFO)}catch(t){e.dispatch("toast/triggerToast",v.O.FAILED_DELETE_TODO_INFO)}},u=()=>{I.Z.push({name:"Login"})};return{loading:o,isLogin:t,userObj:a,todos:d,loginStatus:n,getTodos:l,addTodo:c,toggleTodo:i,deleteTodo:r,moveToLogin:u}}};const oe=(0,P.Z)(ee,[["render",p],["__scopeId","data-v-4970b46c"]]);var te=oe}}]);
//# sourceMappingURL=672.5019f4ff.js.map