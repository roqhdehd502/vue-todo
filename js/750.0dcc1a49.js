"use strict";(self["webpackChunkvue_mini_project"]=self["webpackChunkvue_mini_project"]||[]).push([[750],{3136:function(e,o,t){t.d(o,{O:function(){return a},Sq:function(){return s},pk:function(){return n}});const s={SUCCESS_LOGOUT:{message:"로그아웃 되었습니다.",type:"success"},SUCCESS_CREATE_USER_INFO:{message:"성공적으로 등록 되었습니다.",type:"success"},SUCCESS_UPDATE_USER_INFO:{message:"성공적으로 변경 되었습니다.",type:"success"},SUCCESS_SEND_USER_EMAIL_VERIFY:{message:"인증 메시지를 전송 하였습니다.",type:"success"},INVALID_ACCESS:{message:"올바르지 않은 접근입니다!",type:"danger"},INVALID_USER_INFO:{message:"올바르지 않은 계정입니다!",type:"warning"},INVALID_CREATE_USER_INFO:{message:"등록할 계정 정보를 다시 입력해주세요!",type:"warning"},INVALID_UPLOAD_USER_IMAGE_INFO:{message:"유저 프로필 이미지를 업로드 할 수 없습니다!",type:"warning"},FAILED_LOGOUT:{message:"오류로 인해 로그아웃 할 수 없습니다!",type:"danger"},FAILED_USER_INFO:{message:"오류로 인해 회원 정보를 불러올 수 없습니다!",type:"danger"},FAILED_UPDATE_USER_INFO:{message:"오류로 인해 회원 정보를 변경 할 수 없습니다!",type:"danger"},FAILED_SEND_USER_EMAIL_VERIFY:{message:"오류로 인해 인증 메시지를 전송 할 수 없습니다!",type:"danger"},FAILED_DELETE_USER_INFO:{message:"오류로 인해 회원 정보를 삭제 할 수 없습니다!",type:"danger"}},n={FAILED_COINS_INFO:{message:"오류로 인해 코인 정보들을 불러올 수 없습니다!",type:"danger"}},a={SUCCESS_UPDATE_TODO_INFO:{message:"성공적으로 변경 되었습니다.",type:"success"},SUCCESS_DELETE_TODO_INFO:{message:"성공적으로 삭제 되었습니다.",type:"success"},INVALID_TODO_INFO:{message:"올바른 할 일의 내용을 입력해주세요!",type:"warning"},INVALID_UPDATE_TODO_INFO:{message:"올바른 할 일의 내용을 수정해주세요!",type:"warning"},FAILED_TODO_INFO:{message:"오류로 인해 작성한 할 일 정보를 불러올 수 없습니다!",type:"danger"},FAILED_TODOS_INFO:{message:"오류로 인해 작성한 할 일 정보들을 불러올 수 없습니다!",type:"danger"},FAILED_CREATE_TODO_INFO:{message:"오류로 인해 작성 할 수 없습니다!",type:"danger"},FAILED_UPDATE_TODO_INFO:{message:"오류로 인해 변경 할 수 없습니다!",type:"danger"},FAILED_DELETE_TODO_INFO:{message:"오류로 인해 삭제 할 수 없습니다!",type:"danger"}}},6955:function(e,o,t){t.d(o,{C$:function(){return l},Q9:function(){return r},SR:function(){return a},bG:function(){return d},gS:function(){return i},qJ:function(){return u},v1:function(){return c}});var s=t(4028),n=t(1992);const a=(e,o)=>{(0,s.e5)((0,s.v0)(),e,o).then((()=>{console.log("LOGIN SUCCESS.")})).catch((()=>{console.log("LOGIN FAILED!")}))},d=()=>(0,s.v0)().currentUser,l=(e,o)=>{(0,s.Xb)((0,s.v0)(),e,o).then((()=>{console.log("SIGN UP SUCCESS.")})).catch((()=>{console.log("SIGN UP FAILED!")}))},c=()=>{(0,s.w7)((0,s.v0)()).then((()=>{console.log("LOGOUT SUCCESS.")})).catch((()=>{console.log("LOGOUT FAILED!")}))},i=async(e,o)=>{const t=n.cF(),a=n.iH(t,`userimages/${e.uid}`),d=o;let l=null;void 0!==d&&n.KV(a,d).then((e=>{console.log("upload image: ",e),n.Jt(a)})),(0,s.ck)((0,s.v0)().currentUser,{displayName:e.displayName,photoURL:void 0===l?e.photoURL:l})},r=()=>{(0,s.v0)().languageCode="ko",(0,s.w$)((0,s.v0)().currentUser).then((()=>{console.log("EMAIL VERIFICATION SEND SUCCESS.")})).catch((()=>{console.log("EMAIL VERIFICATION SEND FAILD.")}))},u=()=>{(0,s.h8)((0,s.v0)().currentUser).then((()=>{console.log("DELETE USER SUCCESS.")})).catch((()=>{console.log("DELETE USER FAILED!")}))}},6595:function(e,o,t){t.d(o,{Z:function(){return I}});var s=t(3396);const n={class:"modal-wrapper"},a={class:"modal-dialog"},d={class:"modal-content"},l={class:"modal-header"},c={class:"modal-title"},i={class:"modal-body"},r={class:"modal-footer"};function u(e,o,t,u,g,_){return(0,s.wg)(),(0,s.iD)("div",n,[(0,s._)("div",a,[(0,s._)("div",d,[(0,s._)("div",l,[(0,s._)("h6",c,[(0,s.WI)(e.$slots,"modalTitle",{},void 0,!0)])]),(0,s._)("div",i,[(0,s.WI)(e.$slots,"modalBody",{},void 0,!0)]),(0,s._)("div",r,[(0,s.WI)(e.$slots,"modalFooter",{},void 0,!0)])])])])}var g={name:"ModalComponent"},_=t(89);const p=(0,_.Z)(g,[["render",u],["__scopeId","data-v-742fd37a"]]);var I=p},1750:function(e,o,t){t.r(o),t.d(o,{default:function(){return te}});var s=t(3396);const n=e=>((0,s.dD)("data-v-3461744a"),e=e(),(0,s.Cn)(),e),a={key:0},d={class:"row todo-form-sticky"},l={key:0,class:"mb-3 bg-light text-success spinner-border",role:"status",style:{"margin-left":"45%"}},c=n((()=>(0,s._)("span",{class:"visually-hidden"},"Loading...",-1))),i=[c],r={key:1,class:"card p-3 bg-secondary text-center",style:{color:"white"}},u={class:"todo-list-overflow"},g={key:1,class:"input-group mb-3"},_=n((()=>(0,s._)("input",{class:"form-control",type:"text",value:"로그인 상태에서만 작성 가능합니다",disabled:"",readonly:""},null,-1)));function p(e,o,t,n,c,p){const I=(0,s.up)("TodoForm"),m=(0,s.up)("ToDoList");return(0,s.wg)(),(0,s.iD)("div",null,[n.isLogin?((0,s.wg)(),(0,s.iD)("div",a,[(0,s._)("div",d,[(0,s.Wm)(I,{onAddTodo:n.addTodo},null,8,["onAddTodo"])]),n.loading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",l,i)),n.loading&&!n.todos.length?((0,s.wg)(),(0,s.iD)("div",r," 추가된 할 일이 없습니다. ")):(0,s.kq)("",!0),(0,s._)("div",u,[n.loading?((0,s.wg)(),(0,s.j4)(m,{key:0,todos:n.todos,onToggleTodo:n.toggleTodo,onDeleteTodo:n.deleteTodo},null,8,["todos","onToggleTodo","onDeleteTodo"])):(0,s.kq)("",!0)])])):((0,s.wg)(),(0,s.iD)("div",g,[_,(0,s._)("button",{class:"btn btn-outline-secondary",type:"button",onClick:o[0]||(o[0]=(...e)=>n.moveToLogin&&n.moveToLogin(...e))}," 로그인 ")]))])}var I=t(4870),m=t(7139),E=t(1120),T=t(4028),D=t(3136),v=t(9242),O=t(2268);const y=e=>((0,s.dD)("data-v-5b2deda3"),e=e(),(0,s.Cn)(),e),C=["onClick"],S={class:"flex-glow-1"},L=["onUpdate:modelValue","onChange"],F={class:"container"},h={class:"row align-items-center"},b={class:"col-9"},A={class:"col",style:{"text-align":"right"}},U=["onClick"],f=y((()=>(0,s._)("span",{class:"material-icons"}," delete_outline ",-1))),N=[f];function w(e,o,t,n,a,d){const l=(0,s.up)("TodoDetail");return(0,s.wg)(),(0,s.iD)(s.HY,null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.todos,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:e.docId?e.docId:t,class:"card mt-1 mb-1"},[(0,s._)("div",{class:"card-body p-2 d-flex align-items-center todo-cursor",onClick:o=>n.moveToPage(e.docId)},[(0,s._)("div",S,[(0,s.wy)((0,s._)("input",{class:"ml-2 mr-2",type:"checkbox","onUpdate:modelValue":o=>e.isCompleted=o,onChange:e=>n.toggleTodo(t,e),onClick:o[0]||(o[0]=(0,v.iM)((()=>{}),["stop"]))},null,40,L),[[v.e8,e.isCompleted]])]),(0,s._)("div",F,[(0,s._)("div",h,[(0,s._)("div",b,[(0,s._)("label",{class:(0,O.C_)(["form-check-label",{check:e.isCompleted}])},(0,O.zw)(e.subject),3)]),(0,s._)("div",A,[(0,s._)("button",{class:"btn btn-danger btm-sm",type:"button",onClick:(0,v.iM)((o=>n.openModal(e.docId)),["stop"])},N,8,U)])])])],8,C)])))),128)),((0,s.wg)(),(0,s.j4)(s.lR,{to:"#modal"},[n.showModal?((0,s.wg)(),(0,s.j4)(l,{key:0,onClose:n.closeModal,onDelete:n.deleteTodo},null,8,["onClose","onDelete"])):(0,s.kq)("",!0)]))],64)}const k=(0,s.Uk)(" 정말 삭제 하시겠습니까? "),R={class:"d-flex justify-content-center"},M={class:"btn-group me-2"},V={class:"btn-group me-2"};function j(e,o,t,n,a,d){const l=(0,s.up)("Modal");return(0,s.wg)(),(0,s.j4)(l,null,{modalTitle:(0,s.w5)((()=>[k])),modalBody:(0,s.w5)((()=>[(0,s._)("div",R,[(0,s._)("div",M,[(0,s._)("button",{type:"button",class:"btn btn-secondary",onClick:o[0]||(o[0]=(...e)=>n.onClose&&n.onClose(...e))}," 취소 ")]),(0,s._)("div",V,[(0,s._)("button",{type:"button",class:"btn btn-danger",onClick:o[1]||(o[1]=(...e)=>n.onDelete&&n.onDelete(...e))}," 삭제 ")])])])),_:1})}var x=t(6595),P={name:"TodoDetail",components:{Modal:x.Z},emits:["close","delete"],setup(e,{emit:o}){const t=()=>{o("close")},s=()=>{o("delete")};return{onClose:t,onDelete:s}}},G=t(89);const H=(0,G.Z)(P,[["render",j]]);var Z=H,q={name:"TodoList",components:{TodoDetail:Z},props:{todos:{type:Array,required:!0}},emits:["toggle-todo","delete-todo"],setup(e,{emit:o}){const t=(0,I.iH)(null),s=(0,I.iH)(!1),n=e=>{t.value=e,s.value=!0},a=()=>{t.value=null,s.value=!1},d=()=>{o("delete-todo",t.value),t.value=null,s.value=!1},l=(e,t)=>{o("toggle-todo",e,t.target.checked)},c=e=>{E.Z.push({name:"Todo",params:{id:e}})};return{showModal:s,openModal:n,closeModal:a,deleteTodo:d,toggleTodo:l,moveToPage:c}}};const $=(0,G.Z)(q,[["render",w],["__scopeId","data-v-5b2deda3"]]);var W=$;const Y={class:"d-flex"},K={class:"input-group mb-3"};function B(e,o,t,n,a,d){return(0,s.wg)(),(0,s.iD)("div",Y,[(0,s._)("div",K,[(0,s.wy)((0,s._)("input",{onKeyup:o[0]||(o[0]=(0,v.D2)(((...e)=>n.addTodo&&n.addTodo(...e)),["enter"])),class:"form-control",type:"text","onUpdate:modelValue":o[1]||(o[1]=e=>n.todo=e),placeholder:"추가할 할 일 입력",maxlength:"30"},null,544),[[v.nr,n.todo]]),(0,s._)("button",{onClick:o[2]||(o[2]=(...e)=>n.addTodo&&n.addTodo(...e)),class:"btn btn-success",type:"button"}," 추가 ")])])}var J=t(6955),z={name:"TodoForm",emits:["add-todo"],setup(e,{emit:o}){const t=(0,m.oR)(),s=(0,I.iH)(null),n=()=>{s.value=(0,J.bG)().uid};n();const a=(0,I.iH)(""),d=()=>{""===a.value||null===a.value?t.dispatch("toast/triggerToast",D.O.INVALID_TODO_INFO):(o("add-todo",{userId:s.value,subject:a.value,uploadDate:Date.now(),isCompleted:!1,enabled:!0}),a.value="")};return{todo:a,addTodo:d}}};const Q=(0,G.Z)(z,[["render",B]]);var X=Q,ee={name:"TodoIndex",components:{ToDoList:W,TodoForm:X},setup(){const e=(0,m.oR)(),o=(0,I.iH)(!1),t=(0,I.iH)(!1),n=(0,I.iH)(null),a=(0,I.iH)([]),d=()=>{(0,T.Aj)((0,T.v0)(),(e=>{e?(t.value=!0,n.value=e.uid,l(n.value)):t.value=!1}))};d();const l=async t=>{try{await e.dispatch("todosInfo/getTodosInfo",t);const n=(0,s.Fl)((()=>e.getters["todosInfo/getTodos"]));a.value=n.value,o.value=!0}catch(n){e.dispatch("toast/triggerToast",D.O.FAILED_TODOS_INFO)}},c=async o=>{try{const t={userId:o.userId,subject:o.subject,uploadDate:o.uploadDate,isCompleted:o.isCompleted,enabled:o.enabled};await e.dispatch("todosInfo/addTodoInfo",t),d()}catch(t){e.dispatch("toast/triggerToast",D.O.FAILED_CREATE_TODO_INFO)}},i=async(o,t)=>{const s=a.value[o].docId;try{await e.dispatch("todosInfo/toggleTodoInfo",{docId:s,isChecked:t}),e.dispatch("toast/triggerToast",D.O.SUCCESS_UPDATE_TODO_INFO)}catch(n){e.dispatch("toast/triggerToast",D.O.FAILED_UPDATE_TODO_INFO)}},r=async o=>{try{await e.dispatch("todosInfo/deleteTodoInfo",o),d(),e.dispatch("toast/triggerToast",D.O.SUCCESS_DELETE_TODO_INFO)}catch(t){e.dispatch("toast/triggerToast",D.O.FAILED_DELETE_TODO_INFO)}},u=()=>{E.Z.push({name:"Login"})};return{loading:o,isLogin:t,userObj:n,todos:a,loginStatus:d,getTodos:l,addTodo:c,toggleTodo:i,deleteTodo:r,moveToLogin:u}}};const oe=(0,G.Z)(ee,[["render",p],["__scopeId","data-v-3461744a"]]);var te=oe}}]);
//# sourceMappingURL=750.0dcc1a49.js.map